{% extends "base.html" %}

{% block content %}
    <div class="container h-100">
        <div id="row" class="row h-75">
            <div id="login_column" class="col align-self-center">
                <h3 class="title">Login</h3>
                <div class="box space-block">

                    {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            <div class="alert alert-danger">
                                {{ messages[0] }}
                            </div>
                        {% endif %}
                    {% endwith %}

                    <form method="POST" action="/api/v1/login">
                        <div class="form-group">
                            <label for="login_user_email">Name</label>
                            <input type="email" class="form-control" id="login_user_email" name="user_email" placeholder="user@host.com" required>
                        </div>

                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
                        </div>

                        <button type="submit" class="btn btn-success">Login</button>
                    </form>
                    <br>
                    <p>
                        <a href="/password_reset_request">Forgot your password?</a>
                    </p>
                </div>
            </div>

            <div id="signup_column" class="col align-self-center">
                <h3 class="title">Sign Up</h3>
                <div class="box">

                    {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            <div class="alert alert-danger">
                                {{ messages[0] }}
                            </div>
                        {% endif %}
                    {% endwith %}

                    <form method="POST" action="/api/v1/signup" autocomplete="off"
                          oninput='password2.setCustomValidity(password2.value !== password1.value ? "Passwords do not match." : "")'>
                        <input autocomplete="false" name="hidden" type="text" style="display:none;">
                        <div class="form-group">
                            <label for="user_name">Name</label>
                            <input type="text" class="form-control" id="user_name" name="user_name" placeholder="Bob" required>
                        </div>

                        <div class="form-group">
                            <label for="signup_user_email">Email</label>
                            <input type="email" class="form-control" id="signup_user_email" name="user_email" placeholder="user@host.com" required>
                        </div>

                        <div class="form-group">
                            <label for="password1">Password:</label>
                            <input type="password" class="form-control" id="password1" name="password1" autocomplete="new-password" required>
                        </div>
                        <div class="form-group">
                            <label for="password2">Confirm password:</label>
                            <input type="password" class="form-control" id="password2" name="password2" required>
                        </div>

                        <button type="submit" class="btn btn-primary">Sign Up</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
